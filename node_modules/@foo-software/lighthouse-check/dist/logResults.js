"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _table = require("table");

var _getLighthouseAuditTitlesByKey = _interopRequireDefault(require("./helpers/getLighthouseAuditTitlesByKey"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// config for the `table` module (for console logging a table)
const tableConfig = {
  border: (0, _table.getBorderCharacters)('ramac')
};

var _default = ({
  results
}) => {
  // header
  const headerTable = [['Lighthouse Audit']];
  const headerTableConfig = { ...tableConfig,
    columns: {
      0: {
        paddingLeft: 29,
        paddingRight: 29
      }
    }
  }; // log the header

  console.log('\n');
  console.log((0, _table.table)(headerTable, headerTableConfig)); // log results

  results.forEach(result => {
    console.log(`URL: ${result.url}`);

    if (result.report) {
      console.log(`Report: ${result.report}`);
    }

    if (result.localReport) {
      console.log(`Local Report: ${result.localReport}`);
    }

    const tableData = [(0, _getLighthouseAuditTitlesByKey.default)(Object.keys(result.scores)), Object.values(result.scores)];
    console.log('\n');
    console.log((0, _table.table)(tableData, tableConfig));
    console.log('\n');
  });
};

exports.default = _default;