#! /usr/bin/env node
"use strict";

var _lodash = _interopRequireDefault(require("lodash.get"));

var _github = _interopRequireDefault(require("@actions/github"));

var _lighthouseCheck = _interopRequireDefault(require("../lighthouseCheck"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(async () => {
  const prApiUrl = (0, _lodash.default)(_github.default, 'context.payload.pull_request.url');
  console.log('prApiUrl', prApiUrl);
  const results = await (0, _lighthouseCheck.default)({
    prCommentAccessToken: process.env.prCommentAccessToken,
    prCommentEnabled: true,
    prCommentUrl: !prApiUrl ? undefined : `${prApiUrl}/reviews`,
    urls: ['https://www.foo.software'],
    verbose: true
  });
})();