"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
// https://developers.google.com/speed/docs/insights/rest/v5/pagespeedapi/runpagespeed
const fetch_1 = __importDefault(require("./fetch"));
const PSI_API_URL = 'https://pagespeedonline.googleapis.com/pagespeedonline/v5/runPagespeed';
exports.default = async ({ psiKey, strategy, url, }) => {
    const psiApiUrl = `${PSI_API_URL}?url=${encodeURIComponent(url)}&category=ACCESSIBILITY&category=BEST_PRACTICES&category=PERFORMANCE&category=PWA&category=SEO&strategy=${strategy}&key=${psiKey}`;
    const psiResponse = await (0, fetch_1.default)(psiApiUrl);
    return psiResponse.json();
};
//# sourceMappingURL=getPageSpeedInsightsApiResult.js.map