"use strict";

var _upload = _interopRequireDefault(require("./upload"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

describe('upload', () => {
  const params = {
    hello: 'world'
  };
  it('should resolve when data exists', async () => {
    const data = {
      data: true
    };
    const response = await (0, _upload.default)({
      params,
      s3bucket: {
        upload: (params, callback) => {
          callback(null, data);
        }
      }
    });
    expect(response).toEqual(data);
  });
  it('should reject when error exists', async () => {
    const rejectionError = Error('something went wrong');

    try {
      await (0, _upload.default)({
        params,
        s3bucket: {
          upload: (params, callback) => {
            callback(rejectionError, null);
          }
        }
      });
    } catch (error) {
      expect(error).toEqual(rejectionError);
    }
  });
});